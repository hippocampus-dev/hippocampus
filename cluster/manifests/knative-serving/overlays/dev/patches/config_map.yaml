apiVersion: v1
kind: ConfigMap
metadata:
  name: config-deployment
  namespace: knative-serving
data:
  registries-skipping-tag-resolving: "ghcr.io"
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: config-gc
  namespace: knative-serving
data:
  min-non-active-revisions: "1"
  max-non-active-revisions: "2"
  retain-since-create-time: "24h"
  retain-since-last-active-time: "12h"
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: config-istio
  namespace: knative-serving
data:
  external-gateways: |
    - name: knative-ingress-gateway
      namespace: knative-serving
      service: istio-ingressgateway.istio-gateways.svc.cluster.local

  # Use cluster-local-gateway instead
  local-gateways: |
    - name: cluster-local-gateway
      namespace: istio-gateways
      service: cluster-local-gateway.istio-gateways.svc.cluster.local
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: config-domain
  namespace: knative-serving
data:
  minikube.127.0.0.1.nip.io: ""
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: config-features
  namespace: knative-serving
data:
  kubernetes.podspec-volumes-emptydir: "enabled"
  kubernetes.podspec-persistent-volume-claim: "enabled"
  kubernetes.podspec-persistent-volume-write: "enabled"
  kubernetes.podspec-affinity: "enabled"
  kubernetes.podspec-hostaliases: "enabled"
  kubernetes.podspec-nodeselector: "enabled"
  kubernetes.podspec-tolerations: "enabled"
  kubernetes.podspec-fieldref: "enabled"
  kubernetes.podspec-priorityclassname: "enabled"
  kubernetes.podspec-dryrun: "enabled"
  kubernetes.podspec-runtimeclassname: "enabled"
  kubernetes.podspec-securitycontext: "enabled"
  kubernetes.podspec-init-containers: "enabled"
  kubernetes.podspec-topologyspreadconstraints: "enabled"
  kubernetes.podspec-dnspolicy: "enabled"
  kubernetes.podspec-schedulername: "enabled"
