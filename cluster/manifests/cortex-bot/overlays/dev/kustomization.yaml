apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: cortex-bot

resources:
- ../../base
- destination_rule.yaml
- horizontal_pod_autoscaler.yaml
- job.yaml
- namespace.yaml
- network_policy.yaml
- peer_authentication.yaml
- service.yaml
- service_entry.yaml
- sidecar.yaml
- telemetry.yaml
- virtual_service.yaml
- minio
- redis

patches:
- path: patches/deployment.yaml
- path: patches/pod_disruption_budget.yaml

generators:
- secrets_from_vault.yaml
images:
- digest: sha256:787bf9df4f074c255c50dd6b3466eb9b94ff91bfb3300b222bf61bdb06ed06bd
  name: ghcr.io/hippocampus-dev/hippocampus/chrome-devtools-protocol-server
  newName: ghcr.io/hippocampus-dev/hippocampus/chrome-devtools-protocol-server
- digest: sha256:7362f854386499bc066b4bdc9b527612d8ef79a63bff6fa716ea806eb738a35e
  name: ghcr.io/kaidotio/hippocampus/chrome-devtools-protocol-server
  newName: ghcr.io/kaidotio/hippocampus/chrome-devtools-protocol-server
- digest: sha256:db1b736bdaa1289ce2d13a16b4954256e1350a839319c19ff065ab5771ec3127
  name: ghcr.io/kaidotio/hippocampus/playwright-mcp
  newName: ghcr.io/kaidotio/hippocampus/playwright-mcp
- digest: sha256:40e002bc472b1ee84d7398bb59396f165ca77cff65189142e6f51183920a0c4b
  name: ghcr.io/kaidotio/hippocampus/redis-proxy
  newName: ghcr.io/kaidotio/hippocampus/redis-proxy
- digest: sha256:ace3d71e6aba6a8462ebded479c9690fee3047a483cf76dd39c7c2e1b3c54a2b
  name: minio/mc
  newName: ghcr.io/kaidotio/hippocampus/mirror/minio/mc
- digest: sha256:2149a23902d01a13e1fa5bda87fc3c4e3594d2731f5ded047e4dbfe90b32e002
  name: quay.io/rebuy/exporter-merger
  newName: ghcr.io/kaidotio/hippocampus/mirror/quay.io/rebuy/exporter-merger
