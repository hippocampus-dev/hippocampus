apiVersion: batch/v1
kind: CronJob
metadata:
  name: my-cron-job
  annotations:
    lifecycle-job-hook.kaidotio.github.io/hook: PostComplete
    lifecycle-job-hook.kaidotio.github.io/job-template-group: batch
    lifecycle-job-hook.kaidotio.github.io/job-template-version: v1
    lifecycle-job-hook.kaidotio.github.io/job-template-kind: CronJob
    lifecycle-job-hook.kaidotio.github.io/job-template-name: my-cron-job-hook
spec:
  schedule: "* * * * *"
  jobTemplate:
    spec:
      parallelism: 5
      completions: 5
      template:
        spec:
          restartPolicy: Never
          containers:
            - name: my-container
              image: debian:bookworm-slim
              command:
                - bash
                - -c
              args:
                - |
                  sleep $((RANDOM % 30 + 1))
---
apiVersion: batch/v1
kind: CronJob
metadata:
  name: my-cron-job-hook
spec:
  suspend: true
  schedule: "* * * * *"
  jobTemplate:
    spec:
      template:
        spec:
          restartPolicy: Never
          containers:
            - name: my-container
              image: busybox
              command:
                - date
